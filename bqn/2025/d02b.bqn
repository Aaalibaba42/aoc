line â† â€¢FChars "d02.input"
s â† â€¢Import "../bqn-libs/strings.bqn"

ranges â† ',' s.Split line

NbDigits â† 1âŠ¸+Â·âŒŠ10âŠ¸â‹†â¼
Divisors â† (1â†“â†•)âŠ¸(âŠ£/Ëœ0=|)

CutSame â† {
  nbDigits â† NbDigits ğ•©
  nbParts â† ğ•¨ (âŒŠÃ·)Ëœ nbDigits
  stepSize â† 10â‹†nbParts (âŒˆÃ·)Ëœ nbDigits
  DivNum â† {
    rem â† âŠ‘ ğ•©
    new_rem â† rem (âŒŠÃ·) stepSize
    new_mod â† rem |Ëœ stepSize
    new_remâˆ¾new_modâˆ¾(1â†“ğ•©)
  }
  divided â† DivNumâŸ(nbParts - 1) â‹ˆğ•©

  (âˆ§â‰¡âˆ¨) divided
}

â€¢Show 2 CutSame â€¢Show 121212

IsFishy â† {
  sizesToCheck â† Divisorsâˆ˜NbDigits ğ•©

  âˆ¨Â´(ğ•© CutSameËœÂ¨ sizesToCheck)
}

â€¢Show IsFishy â€¢Show 101010

CountFishy â† {
  lbâ€¿hb â† (â†•2)âŠ¸+ â€¢ParseFloatÂ¨ '-'âŠ¸s.Split ğ•©
  range â† lb + â†• hb - lb
  +Â´ (IsFishyÂ¨ range) / range
}

solution â† +Â´ CountFishyÂ¨ ranges
â€¢Show solution
# â€¢Show CountFishy â€¢Show "11-22"
# â€¢Show CountFishy â€¢Show "95-115"
# â€¢Show CountFishy â€¢Show "998-1012"
# â€¢Show CountFishy â€¢Show "1188511880-1188511890"
# â€¢Show CountFishy â€¢Show "222220-222224"
# â€¢Show CountFishy â€¢Show "1698522-1698528"
# â€¢Show CountFishy â€¢Show "446443-446449"
# â€¢Show CountFishy â€¢Show "38593856-38593862"
