s â† â€¢Import "../bqn-libs/strings.bqn"

rangesâ€¿products â† (+` (âŸ¨âŸ©âŠ¸â‰¡)Â¨)âŠ¸âŠ” â€¢FLines "d05.input"
products (â€¢ParseFloatÂ¨ 1âŠ¸â†“) â†©
ranges (â€¢ParseFloatÂ¨ '-'âŠ¸s.Split)Â¨ â†©

# TODO: reduce ranges to minimal representation (interval map):
#   (âŸ¨1-5 3-10 15-20âŸ© -> âŸ¨1-10 15-20âŸ©)

IsInRange â† {
  loâ€¿hi â† ğ•©
  (hiâŠ¸â‰¥âˆ§â‰¥âŸœlo) ğ•¨
}

â€¢Show +Â´ (âˆ¨Ë)â‰2 >(productsâŠ¸IsInRange)Â¨ ranges
